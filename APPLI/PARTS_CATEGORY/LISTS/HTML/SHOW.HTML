<!--PARTS CATEGORY Contents-->
    
    <div class="col-md-9">

         <!--Contents Header Title-->
        <div class="container" style="margin-bottom:15px;">
            <div class="row">
                <h1 class="">
                    <p>Parts Category</p>
                </h1>
            </div>
        </div>

        <!--Contents Header Information-->
        <div class="container" style="margin-bottom:15px;">
            <form class="form-horizontal header-info">
                <div class="form-group">
                    <h3>
                        <label class="control-label col-sm-1" for="">
                            <i class="glyphicon glyphicon-info-sign"></i>
                        </label>
                    </h3>
                    <h4>
                        <div class="col-sm-5" style="text-align:left;">
                            <p><span id="info-msg" class="label label-lg label-###INFO_LV###">###INFO_MSG###</span></p>
                        </div>
                    </h4>
                </div>
            </form>
        </div>

        <!--Contents-->
        <div class="container" style="padding;20px;">
            <form class="form-horizontal" style="margin-bottom:15px;" action="/APP/PARTS_CATEGORY/LISTS/" method="GET">
###TABLE###
            </form>
        </div>
    </div>
<!--</html>-->

<script>

    //カテゴリ名新規追加
    function newPartsCategory() {
        var new_category_name = $('#NEW_PARTS_CATEGORY_NAME').val();
        var params = $('form').serialize();
        var jqXHR = $.ajax({
            type: 'POST',
            url: '/APP/PARTS_CATEGORY/NEW/COMPLETE',
            data: params
        });
        jqXHR.done(function(data) {
            if (data == 2222) {
                alert(new_category_name + "は、既に使われています。");
            } else {
                $('table').html(data);
                $('#info-msg').html(new_category_name + "を追加しました。");
            }
        });
        jqXHR.fail(function(data) {
            alert("新規登録処理に失敗しました。");
        });
    }

    //カテゴリ名変更
    function editPartsCategory(id) {
        var edit_category_name = $('#PARTS_CATEGORY_NAME_' + id).val();
        var params = $('form').serialize();
        var jqXHR = $.ajax({
            type: 'POST',
            url: '/APP/PARTS_CATEGORY/EDIT/COMPLETE',
            data: {
                PARTS_CATEGORY_ID: id,
                PARTS_CATEGORY_NAME: edit_category_name
            }
        });
        jqXHR.done(function(data) {
            if (data == 2222) {
                alert(new_category_name + "は、既に使われています。");
            } else {
                $('table').html(data);
                $('#info-msg').html(edit_category_name + "を変更しました。");
            }
        });
        jqXHR.fail(function() {
            alert("更新処理に失敗しました。");
        });
    }

    //カテゴリ名削除
    function deletePartsCategory(id) {
        var delete_category_name = $('#PARTS_CATEGORY_NAME_' + id).val();
        var params = $('form').serialize();
        var jqXHR = $.ajax({
            type: 'POST',
            url: '/APP/PARTS_CATEGORY/DELETE/COMPLETE',
            data: {
                PARTS_CATEGORY_ID: id,
                PARTS_CATEGORY_NAME: delete_category_name
            }
        });
        jqXHR.done(function(data) {
            $('table').html(data);
            $('#info-msg').html(delete_category_name + "を削除しました。");
        });
        jqXHR.fail(function() {
            alert("削除処理に失敗しました。");
        });
 
    }

</script>
